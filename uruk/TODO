Fix bugs in uruk script.  See comments.

Add support for variable uruk_version : version of uruk when rc file was
created.

Check documentation: uruk-rc manpage needs more stuff.

Perhaps we need an uruk-init manpage, for the init script.

Write a wrapper for OpenBSD's pf and FreeBSD's ipfilter, so that these tools
can use the same rc file format.

Reimplement uruk-save: make it more robust.  See
http://www.faqs.org/docs/iptables/iptables-save.html for example of file
format.  Use logic from iptables-save.c.

Add yet another warning about uruk-save: it'll fail if rc is in verbose or
debug mode.

Add LSB stuff to uruk init script.

Is it sane to allow all traffic in default inactive rule?

Check save_counters support in init script.  It's likely broken.

Date: Wed, 9 Feb 2005 15:09:16 +0100
Message-ID: <20050209140916.GZ1487@trogdor.uvt.nl>
Herken broadcasts (misschien aan destination MAC-adres?) en log ze niet.
.
alternative implementation: near code-snippet:
 # supporting this for multiple-ips would need multiple chains
 # or, perhaps, some iptables extension.
This log-spamming happens only in multiple-ip-per-nic mode.
Do DROP stuff just before log, would that work?  (No, we really can't do
something like "--dest !(ip1 or ip2 or ip3)".)
.
yet to implement: loglevel "high".  Document multiple ip per nic logspamming bug.

Finish IPv6 support.  Think about how to hack uruk-save.  Change to
enabled-by-default.  Add support for loglevel variable. Document it.

Document this change: Uruk init script not only inspects /etc/default/uruk, but also
/etc/sysconfig/uruk (Red Hat / Fedora style)

Ship example /etc/default/uruk with this package, move out of Debian package.

force-reload in init script could do the uruk-save trick.

reimplement init-script:
.
Message-ID: <20050802190924.GF5525@nagy.mdcc.cx>
References: <20050802100132.GS7281@banach.uvt.nl> <20050802101045.GD25869@trogdor.uvt.nl>
On Tue, Aug 02, 2005 at 12:10:45PM +0200, Wessel Dankers wrote:
> On 2005‒08‒02 12:01:32+0200, Joost van Baal wrote:
> > - je wilt je machine naar pre-uruk toestand kunnen terugbrengen.
> > - je wilt dat  stop, start  doet wat je denkt dat t doet.
> > - feature dat je met t handje iptables-invocatie bij je uruk
> >   kunt stoppen is crap: cruft hoopt op.
> - start en stop idempotent maken
>
> #! /bin/sh -e
>
> case "$1" in
> start)
>       if [ ! -e inactive ]
>       then
>               iptables-save >inactive
>       fi
>       uruk-save     >active
>       iptables-load <active
>       ;;
> stop)
>       if [ -e inactive ]
>       then
>               iptables-load <inactive
>               rm inactive
>       else
>               echo "Uruk not running; none stopped"
>       fi
>       ;;
> reload)
>       uruk-save     >active
>       iptables-load <active
>       ;;
> restart)
>       $0 stop
>       $0 start
> esac
.
I guess I need an "use-uruk-save" setting in /etc/default/uruk, defaulting to
"no".
.
Add a note on implictions of upgrade to README.

phase out support for services_eth0_udp, but enforce ipS_eth0; warn for obsolete syntax

( GNU Arch peeksheet:

joostvb@nagy:~/arch/uruk/uruk/script% tla commit
joostvb@nagy:~/arch/uruk/uruk/script% tla archive-mirror joostvb-arch@mdcc.cx--2004-uruk

)

# this file maintained using arch at http://arch.gna.org/uruk/
